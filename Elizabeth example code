{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import string\n",
    "import numpy as np\n",
    "import nltk\n",
    "import re\n",
    "from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer\n",
    "analyzer = SentimentIntensityAnalyzer()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Total tweets this period: 3467\n",
      "Mean retweets: 292.329\n",
      "Mean likes: 765.671\n",
      "Mean replies: 40.495\n",
      "Mean impressions: 1098.5\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>username</th>\n",
       "      <th>date</th>\n",
       "      <th>tweet</th>\n",
       "      <th>retweets</th>\n",
       "      <th>likes</th>\n",
       "      <th>replies</th>\n",
       "      <th>impressions</th>\n",
       "      <th>hashtags</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>3447</th>\n",
       "      <td>Richard Dawkins</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>Durn tootin‚Äô, great shootin‚Äô. Cool dude sertin...</td>\n",
       "      <td>3200.0</td>\n",
       "      <td>10600.0</td>\n",
       "      <td>4500.0</td>\n",
       "      <td>18300.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3448</th>\n",
       "      <td>AJ+</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>One of the deadliest mass shootings in U.S. hi...</td>\n",
       "      <td>10600.0</td>\n",
       "      <td>7700.0</td>\n",
       "      <td>124.0</td>\n",
       "      <td>18424.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3449</th>\n",
       "      <td>Qasim Rashid for Congress</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>So a Muslim w/a pocket knife yelling AllahuAkb...</td>\n",
       "      <td>7300.0</td>\n",
       "      <td>10900.0</td>\n",
       "      <td>395.0</td>\n",
       "      <td>18595.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3450</th>\n",
       "      <td>Joy Reid</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>We are letting this happen.</td>\n",
       "      <td>7600.0</td>\n",
       "      <td>10800.0</td>\n",
       "      <td>469.0</td>\n",
       "      <td>18869.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3451</th>\n",
       "      <td>Eric Trump</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>My thoughts and prayers are with the people of...</td>\n",
       "      <td>2500.0</td>\n",
       "      <td>16900.0</td>\n",
       "      <td>375.0</td>\n",
       "      <td>19775.0</td>\n",
       "      <td>#LasVegas.</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3452</th>\n",
       "      <td>ùöãùöäùö°ùöùùöéùöõ ùöãùöéùöäùöó</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>REMINDER: 41 Republicans blocked sensible gun ...</td>\n",
       "      <td>8900.0</td>\n",
       "      <td>10400.0</td>\n",
       "      <td>499.0</td>\n",
       "      <td>19799.0</td>\n",
       "      <td>#LasVegas , #GunControlNow</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3453</th>\n",
       "      <td>Mariah Carey</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>Horrified to hear about the shooting in #LasVe...</td>\n",
       "      <td>3900.0</td>\n",
       "      <td>15800.0</td>\n",
       "      <td>224.0</td>\n",
       "      <td>19924.0</td>\n",
       "      <td>#LasVegas.</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3454</th>\n",
       "      <td>Charles M. Blow</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>Prayer may provide comfort and consolation, bu...</td>\n",
       "      <td>5900.0</td>\n",
       "      <td>13900.0</td>\n",
       "      <td>172.0</td>\n",
       "      <td>19972.0</td>\n",
       "      <td>#LasVegasShooting</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3455</th>\n",
       "      <td>MatPat</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>Dear Media,\\nStop glorifying criminals by broa...</td>\n",
       "      <td>3200.0</td>\n",
       "      <td>17800.0</td>\n",
       "      <td>298.0</td>\n",
       "      <td>21298.0</td>\n",
       "      <td>#LasVegasShooting</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3456</th>\n",
       "      <td>Joseph Lombardo</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>What a great pleasure to speak with our Presid...</td>\n",
       "      <td>800.0</td>\n",
       "      <td>23800.0</td>\n",
       "      <td>918.0</td>\n",
       "      <td>25518.0</td>\n",
       "      <td>#LVMPD</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3457</th>\n",
       "      <td>J.K. Rowling</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>Just emerged from a fictional world to news of...</td>\n",
       "      <td>2300.0</td>\n",
       "      <td>23300.0</td>\n",
       "      <td>179.0</td>\n",
       "      <td>25779.0</td>\n",
       "      <td>#LasVegas.</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3458</th>\n",
       "      <td>James Woods</td>\n",
       "      <td>Oct 7, 2017</td>\n",
       "      <td>I disregard conspiracy theories as a rule, but...</td>\n",
       "      <td>7300.0</td>\n",
       "      <td>20400.0</td>\n",
       "      <td>2100.0</td>\n",
       "      <td>29800.0</td>\n",
       "      <td>#LasVegas</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3459</th>\n",
       "      <td>Travon Free</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>To speed this up a bit:\\nLone wolf \\nNot terro...</td>\n",
       "      <td>7900.0</td>\n",
       "      <td>24600.0</td>\n",
       "      <td>481.0</td>\n",
       "      <td>32981.0</td>\n",
       "      <td>#LasVegas</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3460</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Oct 3, 2017</td>\n",
       "      <td>I pray that 59 beautiful souls who started off...</td>\n",
       "      <td>5900.0</td>\n",
       "      <td>29400.0</td>\n",
       "      <td>159.0</td>\n",
       "      <td>35459.0</td>\n",
       "      <td>#RIPTomPetty</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3461</th>\n",
       "      <td>Paola Rodelas #1job</td>\n",
       "      <td>Oct 7, 2017</td>\n",
       "      <td>My relative's friend posted this. Wypipo so de...</td>\n",
       "      <td>13900.0</td>\n",
       "      <td>26400.0</td>\n",
       "      <td>206.0</td>\n",
       "      <td>40506.0</td>\n",
       "      <td>#LasVegasShooting , #LasVegas</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3462</th>\n",
       "      <td>BLM BEX</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>The worst mass shooting in US history occurred...</td>\n",
       "      <td>17900.0</td>\n",
       "      <td>38500.0</td>\n",
       "      <td>194.0</td>\n",
       "      <td>56594.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3463</th>\n",
       "      <td>Nelba M√°rquez-Greene</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>As a mom who had to bury a child- I could care...</td>\n",
       "      <td>15600.0</td>\n",
       "      <td>57600.0</td>\n",
       "      <td>703.0</td>\n",
       "      <td>73903.0</td>\n",
       "      <td>#Newtown</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3464</th>\n",
       "      <td>Hillary Clinton</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>Replying to @HillaryClinton</td>\n",
       "      <td>63100.0</td>\n",
       "      <td>21300.0</td>\n",
       "      <td>2700.0</td>\n",
       "      <td>87100.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3465</th>\n",
       "      <td>Ariana Grande</td>\n",
       "      <td>Oct 2, 2017</td>\n",
       "      <td>My heart is breaking for Las Vegas. We need lo...</td>\n",
       "      <td>9800.0</td>\n",
       "      <td>348600.0</td>\n",
       "      <td>7400.0</td>\n",
       "      <td>365800.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3466</th>\n",
       "      <td>Î∞©ÌÉÑÏÜåÎÖÑÎã®</td>\n",
       "      <td>Oct 3, 2017</td>\n",
       "      <td>There are no words that can do justice to this...</td>\n",
       "      <td>190700.0</td>\n",
       "      <td>516400.0</td>\n",
       "      <td>12200.0</td>\n",
       "      <td>719300.0</td>\n",
       "      <td>#LasVegas , #USA , #prayforvegas</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                       username         date  \\\n",
       "3447            Richard Dawkins  Oct 2, 2017   \n",
       "3448                        AJ+  Oct 2, 2017   \n",
       "3449  Qasim Rashid for Congress  Oct 2, 2017   \n",
       "3450                   Joy Reid  Oct 2, 2017   \n",
       "3451                 Eric Trump  Oct 2, 2017   \n",
       "3452                ùöãùöäùö°ùöùùöéùöõ ùöãùöéùöäùöó  Oct 2, 2017   \n",
       "3453               Mariah Carey  Oct 2, 2017   \n",
       "3454            Charles M. Blow  Oct 2, 2017   \n",
       "3455                     MatPat  Oct 2, 2017   \n",
       "3456            Joseph Lombardo  Oct 2, 2017   \n",
       "3457               J.K. Rowling  Oct 2, 2017   \n",
       "3458                James Woods  Oct 7, 2017   \n",
       "3459                Travon Free  Oct 2, 2017   \n",
       "3460                        NaN  Oct 3, 2017   \n",
       "3461        Paola Rodelas #1job  Oct 7, 2017   \n",
       "3462                    BLM BEX  Oct 2, 2017   \n",
       "3463       Nelba M√°rquez-Greene  Oct 2, 2017   \n",
       "3464            Hillary Clinton  Oct 2, 2017   \n",
       "3465              Ariana Grande  Oct 2, 2017   \n",
       "3466                      Î∞©ÌÉÑÏÜåÎÖÑÎã®  Oct 3, 2017   \n",
       "\n",
       "                                                  tweet  retweets     likes  \\\n",
       "3447  Durn tootin‚Äô, great shootin‚Äô. Cool dude sertin...    3200.0   10600.0   \n",
       "3448  One of the deadliest mass shootings in U.S. hi...   10600.0    7700.0   \n",
       "3449  So a Muslim w/a pocket knife yelling AllahuAkb...    7300.0   10900.0   \n",
       "3450                        We are letting this happen.    7600.0   10800.0   \n",
       "3451  My thoughts and prayers are with the people of...    2500.0   16900.0   \n",
       "3452  REMINDER: 41 Republicans blocked sensible gun ...    8900.0   10400.0   \n",
       "3453  Horrified to hear about the shooting in #LasVe...    3900.0   15800.0   \n",
       "3454  Prayer may provide comfort and consolation, bu...    5900.0   13900.0   \n",
       "3455  Dear Media,\\nStop glorifying criminals by broa...    3200.0   17800.0   \n",
       "3456  What a great pleasure to speak with our Presid...     800.0   23800.0   \n",
       "3457  Just emerged from a fictional world to news of...    2300.0   23300.0   \n",
       "3458  I disregard conspiracy theories as a rule, but...    7300.0   20400.0   \n",
       "3459  To speed this up a bit:\\nLone wolf \\nNot terro...    7900.0   24600.0   \n",
       "3460  I pray that 59 beautiful souls who started off...    5900.0   29400.0   \n",
       "3461  My relative's friend posted this. Wypipo so de...   13900.0   26400.0   \n",
       "3462  The worst mass shooting in US history occurred...   17900.0   38500.0   \n",
       "3463  As a mom who had to bury a child- I could care...   15600.0   57600.0   \n",
       "3464                        Replying to @HillaryClinton   63100.0   21300.0   \n",
       "3465  My heart is breaking for Las Vegas. We need lo...    9800.0  348600.0   \n",
       "3466  There are no words that can do justice to this...  190700.0  516400.0   \n",
       "\n",
       "      replies  impressions                          hashtags  \n",
       "3447   4500.0      18300.0                               NaN  \n",
       "3448    124.0      18424.0                               NaN  \n",
       "3449    395.0      18595.0                               NaN  \n",
       "3450    469.0      18869.0                               NaN  \n",
       "3451    375.0      19775.0                        #LasVegas.  \n",
       "3452    499.0      19799.0        #LasVegas , #GunControlNow  \n",
       "3453    224.0      19924.0                        #LasVegas.  \n",
       "3454    172.0      19972.0                 #LasVegasShooting  \n",
       "3455    298.0      21298.0                 #LasVegasShooting  \n",
       "3456    918.0      25518.0                            #LVMPD  \n",
       "3457    179.0      25779.0                        #LasVegas.  \n",
       "3458   2100.0      29800.0                         #LasVegas  \n",
       "3459    481.0      32981.0                         #LasVegas  \n",
       "3460    159.0      35459.0                      #RIPTomPetty  \n",
       "3461    206.0      40506.0     #LasVegasShooting , #LasVegas  \n",
       "3462    194.0      56594.0                               NaN  \n",
       "3463    703.0      73903.0                          #Newtown  \n",
       "3464   2700.0      87100.0                               NaN  \n",
       "3465   7400.0     365800.0                               NaN  \n",
       "3466  12200.0     719300.0  #LasVegas , #USA , #prayforvegas  "
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#average retweets, likes, replies \n",
    "lasvegas = pd.read_csv('lasvegas0.csv') #read in data \n",
    "lasvegas = lasvegas.dropna (axis = 0, subset = ['tweet']) #drop lines that have no tweet for some reason\n",
    "lasvegas = lasvegas.drop_duplicates(subset = ['tweet'], keep = 'last', inplace = False) #keep second time tweet scraped\n",
    "lasvegas['retweets'] = lasvegas['retweets'].str.replace('K', '00') #replace K, M, and .  \n",
    "lasvegas['retweets'] = lasvegas['retweets'].str.replace('M', '000000')\n",
    "lasvegas['retweets'] = lasvegas['retweets'].str.replace('.', '')\n",
    "lasvegas['likes'] = lasvegas['likes'].str.replace('K', '00')\n",
    "lasvegas['likes'] = lasvegas['likes'].str.replace('M', '000000')\n",
    "lasvegas['likes'] = lasvegas['likes'].str.replace('.', '')\n",
    "lasvegas['replies'] = lasvegas['replies'].str.replace('K', '00')\n",
    "lasvegas['replies'] = lasvegas['replies'].str.replace('M', '000000')\n",
    "lasvegas['replies'] = lasvegas['replies'].str.replace('.', '')\n",
    "lasvegas['retweets'].fillna(0, inplace = True)\n",
    "lasvegas['likes'].fillna(0, inplace = True)\n",
    "lasvegas['replies'].fillna(0, inplace = True)\n",
    "lasvegas['retweets'] = pd.to_numeric(lasvegas['retweets'], downcast = 'float') #strings to floats \n",
    "lasvegas['likes'] = pd.to_numeric(lasvegas['likes'], downcast = 'float')\n",
    "lasvegas['replies'] = pd.to_numeric(lasvegas['replies'], downcast = 'float')\n",
    "lasvegas['impressions'] = lasvegas['retweets'] + lasvegas['likes'] + lasvegas['replies']\n",
    "print('Total tweets this period:', len(lasvegas.index)) #total tweets\n",
    "lasvegas = lasvegas.sort_values(by = 'retweets', ascending = False)\n",
    "lasvegas = lasvegas.reset_index (drop = True)\n",
    "print('Mean retweets:', round(lasvegas['retweets'].mean(),3)) #average retweets\n",
    "lasvegas = lasvegas.sort_values(by = 'likes', ascending = False)\n",
    "lasvegas = lasvegas.reset_index (drop = True)\n",
    "print('Mean likes:', round(lasvegas['likes'].mean(),3)) #average likes\n",
    "lasvegas = lasvegas.sort_values(by = 'replies', ascending = False)\n",
    "lasvegas = lasvegas.reset_index (drop = True)\n",
    "print('Mean replies:', round(lasvegas['replies'].mean(),3)) #average replies \n",
    "lasvegas['impressions'] = lasvegas['retweets'] + lasvegas['likes'] + lasvegas['replies']\n",
    "lasvegas = lasvegas.sort_values(by = 'impressions', ascending = True) #ascending order to pull top 20 into new dataframe\n",
    "lasvegas = lasvegas.reset_index (drop = True)\n",
    "print('Mean impressions:', round(lasvegas['impressions'].mean(),2)) #average impressions\n",
    "lasvegas = lasvegas[['username', 'date', 'tweet', 'retweets', 'likes', 'replies', 'impressions', 'hashtags']]\n",
    "lasvegas.tail(20)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>tweet</th>\n",
       "      <th>negative</th>\n",
       "      <th>neutral</th>\n",
       "      <th>positive</th>\n",
       "      <th>compound</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Durn tootin‚Äô, great shootin‚Äô. Cool dude sertin...</td>\n",
       "      <td>0.142</td>\n",
       "      <td>0.585</td>\n",
       "      <td>0.274</td>\n",
       "      <td>0.5093</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>One of the deadliest mass shootings in U.S. hi...</td>\n",
       "      <td>0.247</td>\n",
       "      <td>0.753</td>\n",
       "      <td>0.000</td>\n",
       "      <td>-0.8020</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>So a Muslim w/a pocket knife yelling AllahuAkb...</td>\n",
       "      <td>0.239</td>\n",
       "      <td>0.722</td>\n",
       "      <td>0.040</td>\n",
       "      <td>-0.7783</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>We are letting this happen.</td>\n",
       "      <td>0.000</td>\n",
       "      <td>1.000</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.0000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>My thoughts and prayers are with the people of...</td>\n",
       "      <td>0.000</td>\n",
       "      <td>1.000</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.0000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>REMINDER: 41 Republicans blocked sensible gun ...</td>\n",
       "      <td>0.243</td>\n",
       "      <td>0.757</td>\n",
       "      <td>0.000</td>\n",
       "      <td>-0.5423</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Horrified to hear about the shooting in #LasVe...</td>\n",
       "      <td>0.206</td>\n",
       "      <td>0.605</td>\n",
       "      <td>0.189</td>\n",
       "      <td>-0.1280</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Prayer may provide comfort and consolation, bu...</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.896</td>\n",
       "      <td>0.104</td>\n",
       "      <td>0.1901</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Dear Media,\\nStop glorifying criminals by broa...</td>\n",
       "      <td>0.211</td>\n",
       "      <td>0.573</td>\n",
       "      <td>0.215</td>\n",
       "      <td>0.0258</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>What a great pleasure to speak with our Presid...</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.581</td>\n",
       "      <td>0.419</td>\n",
       "      <td>0.9186</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Just emerged from a fictional world to news of...</td>\n",
       "      <td>0.326</td>\n",
       "      <td>0.674</td>\n",
       "      <td>0.000</td>\n",
       "      <td>-0.8268</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>I disregard conspiracy theories as a rule, but...</td>\n",
       "      <td>0.250</td>\n",
       "      <td>0.633</td>\n",
       "      <td>0.117</td>\n",
       "      <td>-0.4957</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>To speed this up a bit:\\nLone wolf \\nNot terro...</td>\n",
       "      <td>0.070</td>\n",
       "      <td>0.738</td>\n",
       "      <td>0.191</td>\n",
       "      <td>0.5574</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>I pray that 59 beautiful souls who started off...</td>\n",
       "      <td>0.062</td>\n",
       "      <td>0.630</td>\n",
       "      <td>0.309</td>\n",
       "      <td>0.8492</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>My relative's friend posted this. Wypipo so de...</td>\n",
       "      <td>0.148</td>\n",
       "      <td>0.693</td>\n",
       "      <td>0.158</td>\n",
       "      <td>0.0538</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>The worst mass shooting in US history occurred...</td>\n",
       "      <td>0.306</td>\n",
       "      <td>0.606</td>\n",
       "      <td>0.088</td>\n",
       "      <td>-0.8360</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>As a mom who had to bury a child- I could care...</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.821</td>\n",
       "      <td>0.179</td>\n",
       "      <td>0.6861</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Replying to @HillaryClinton</td>\n",
       "      <td>0.000</td>\n",
       "      <td>1.000</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.0000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>My heart is breaking for Las Vegas. We need lo...</td>\n",
       "      <td>0.163</td>\n",
       "      <td>0.559</td>\n",
       "      <td>0.277</td>\n",
       "      <td>0.7096</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>There are no words that can do justice to this...</td>\n",
       "      <td>0.174</td>\n",
       "      <td>0.526</td>\n",
       "      <td>0.300</td>\n",
       "      <td>0.7003</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                tweet  negative  neutral  \\\n",
       "0   Durn tootin‚Äô, great shootin‚Äô. Cool dude sertin...     0.142    0.585   \n",
       "1   One of the deadliest mass shootings in U.S. hi...     0.247    0.753   \n",
       "2   So a Muslim w/a pocket knife yelling AllahuAkb...     0.239    0.722   \n",
       "3                         We are letting this happen.     0.000    1.000   \n",
       "4   My thoughts and prayers are with the people of...     0.000    1.000   \n",
       "5   REMINDER: 41 Republicans blocked sensible gun ...     0.243    0.757   \n",
       "6   Horrified to hear about the shooting in #LasVe...     0.206    0.605   \n",
       "7   Prayer may provide comfort and consolation, bu...     0.000    0.896   \n",
       "8   Dear Media,\\nStop glorifying criminals by broa...     0.211    0.573   \n",
       "9   What a great pleasure to speak with our Presid...     0.000    0.581   \n",
       "10  Just emerged from a fictional world to news of...     0.326    0.674   \n",
       "11  I disregard conspiracy theories as a rule, but...     0.250    0.633   \n",
       "12  To speed this up a bit:\\nLone wolf \\nNot terro...     0.070    0.738   \n",
       "13  I pray that 59 beautiful souls who started off...     0.062    0.630   \n",
       "14  My relative's friend posted this. Wypipo so de...     0.148    0.693   \n",
       "15  The worst mass shooting in US history occurred...     0.306    0.606   \n",
       "16  As a mom who had to bury a child- I could care...     0.000    0.821   \n",
       "17                        Replying to @HillaryClinton     0.000    1.000   \n",
       "18  My heart is breaking for Las Vegas. We need lo...     0.163    0.559   \n",
       "19  There are no words that can do justice to this...     0.174    0.526   \n",
       "\n",
       "    positive  compound  \n",
       "0      0.274    0.5093  \n",
       "1      0.000   -0.8020  \n",
       "2      0.040   -0.7783  \n",
       "3      0.000    0.0000  \n",
       "4      0.000    0.0000  \n",
       "5      0.000   -0.5423  \n",
       "6      0.189   -0.1280  \n",
       "7      0.104    0.1901  \n",
       "8      0.215    0.0258  \n",
       "9      0.419    0.9186  \n",
       "10     0.000   -0.8268  \n",
       "11     0.117   -0.4957  \n",
       "12     0.191    0.5574  \n",
       "13     0.309    0.8492  \n",
       "14     0.158    0.0538  \n",
       "15     0.088   -0.8360  \n",
       "16     0.179    0.6861  \n",
       "17     0.000    0.0000  \n",
       "18     0.277    0.7096  \n",
       "19     0.300    0.7003  "
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#sentiment for top 20 tweets\n",
    "lasvegas2 = lasvegas.tail(20)\n",
    "list_of_tweets = lasvegas2['tweet'].to_list()\n",
    "compound = []\n",
    "pos = []\n",
    "neu = []\n",
    "neg = []\n",
    "for i in range(0, len(list_of_tweets)):\n",
    "    answer = analyzer.polarity_scores(list_of_tweets[i])\n",
    "    mylist = list(answer.values())\n",
    "    neg.append(mylist[0])\n",
    "    neu.append(mylist[1])\n",
    "    pos.append(mylist[2])\n",
    "    compound.append(mylist[3])\n",
    "dict = {'negative': neg, 'neutral': neu , 'positive': pos, 'compound': compound}\n",
    "lasvegas_sentiment = pd.DataFrame(dict)\n",
    "lasvegas_sentiment['tweet'] = pd.DataFrame({'tweet': list_of_tweets})\n",
    "lasvegas_sentiment = lasvegas_sentiment[['tweet', 'negative', 'neutral', 'positive', 'compound']]\n",
    "lasvegas_sentiment"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#sentiment average for entire data set\n",
    "def getSentiments(df):\n",
    "    sid = SentimentIntensityAnalyzer()\n",
    "    tweet_str = \"\"\n",
    "    for tweet in df['tweet']:\n",
    "        tweet_str = tweet_str + \" \" + tweet\n",
    "    print(sid.polarity_scores(tweet_str))\n",
    "getSentiments(lasvegas)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
